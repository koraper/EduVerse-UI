# EduVerse 와이어프레임 - 관리자 화면

## 📋 문서 정보

| 항목 | 내용 |
|------|------|
| 문서명 | 와이어프레임 - 관리자 |
| 버전 | 1.1 |
| 최종 수정일 | 2025-10-19 |
| 상태 | 개발 중 |
| 관련 문서 | PRD v2.8, 역할별 기능 리스트 v3.7, 시스템 아키텍처 v1.4 |

## 📝 변경 이력

| 버전 | 일자 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.1 | 2025-10-19 | 버전 통일 업데이트: PRD v2.8, 역할별 기능 리스트 v3.7, 시스템 아키텍처 v1.4 반영; 관리 로그 조회 기능 추가 (섹션 4) | Claude AI |
| 1.0 | 2025-10-16 | 초기 버전 작성 | Claude AI |

---

## 📖 목차

1. [개요](#1-개요)
2. [사용자 관리 페이지](#2-사용자-관리-페이지)
3. [사용자 상태 변경](#3-사용자-상태-변경)
4. [관리 로그 조회](#4-관리-로그-조회)

---

## 1. 개요

### 1.1 목적
- 전체 사용자(학생, 교수자) 관리 및 모니터링
- 사용자 계정 상태 변경 (활성화/비활성화/정지)

### 1.2 핵심 기능
- **사용자 목록 조회**: 전체 사용자 목록 및 검색
- **사용자 상태 변경**: 계정 활성화/비활성화/정지 처리

---

## 2. 사용자 관리 페이지

### 2.1 전체 레이아웃

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  [Logo] EduVerse                       [알림 🔔]  [관리자 ▼]                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  사용자 관리                                                                  │
│  [전체: 234명] [학생: 200명] [교수자: 34명]                                   │
│                                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  역할: [전체 ▼]  상태: [전체 ▼]  [검색: ___________] [🔍]                   │
│                                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ID  │ 이메일              │ 이름   │ 역할  │ 상태  │ 가입일      │ 액션    │
│  ────┼────────────────────┼───────┼──────┼──────┼─────────────┼──────── │
│  234 │ student@edu.com    │ 김철수 │ 학생  │ 활성  │ 2025-10-15 │ [편집] │
│  233 │ prof@edu.com       │ 이교수 │ 교수자│ 활성  │ 2025-10-14 │ [편집] │
│  232 │ test@edu.com       │ 박학생 │ 학생  │ 정지  │ 2025-10-13 │ [편집] │
│  231 │ user@edu.com       │ 최학생 │ 학생  │ 활성  │ 2025-10-12 │ [편집] │
│  230 │ teacher@edu.com    │ 정교수 │ 교수자│ 비활성│ 2025-10-11 │ [편집] │
│  ... │                    │       │      │      │            │        │
│                                                                              │
│  [◀ 이전] 페이지 1/5 [다음 ▶]                                                │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘

**페이지네이션**:
- 페이지당 10개 (기본)
- 최대 100개
```

### 2.2 필터 및 검색

```
┌───────────────────────────────────────────────────────────┐
│  역할: [전체 ▼]  상태: [전체 ▼]                          │
│                                                            │
│  [검색: student@edu.com___________] [🔍 검색]             │
│                                                            │
└───────────────────────────────────────────────────────────┘

**역할 필터**:
- 전체
- 학생
- 교수자

**상태 필터**:
- 전체
- 활성 (active)
- 비활성 (inactive)
- 정지 (suspended)

**검색**:
- 이메일 또는 이름으로 검색
- 실시간 검색 (1초 debounce)
```

---

## 3. 사용자 상태 변경

### 3.1 상태 변경 모달

```
┌────────────────────────────────────────────────────┐
│ 사용자 상태 변경                              [X]  │
├────────────────────────────────────────────────────┤
│                                                     │
│  사용자: 김철수 (student@edu.com)                   │
│  현재 상태: 활성                                     │
│                                                     │
│  변경할 상태: [정지 ▼]                              │
│  ┌───────────────────────────────────────────────┐│
│  │ 활성 (active)                                 ││
│  │ 비활성 (inactive)                             ││
│  │ 정지 (suspended)  ← 선택                      ││
│  └───────────────────────────────────────────────┘│
│                                                     │
│  사유 (필수):                                        │
│  ┌───────────────────────────────────────────────┐│
│  │ 부적절한 행동으로 인한 임시 정지              ││
│  │                                               ││
│  │                                               ││
│  └───────────────────────────────────────────────┘│
│  (textarea, required for suspend)                 │
│                                                     │
│  ⚠️ 정지된 사용자는 로그인할 수 없습니다            │
│                                                     │
│               [취소]  [변경]                        │
│                                                     │
└────────────────────────────────────────────────────┘

**검증**:
- 정지 처리 시 사유 필수
- 관리자 본인은 상태 변경 불가
```

### 3.2 상태 변경 완료

```
┌────────────────────────────────────────┐
│ ✅ 사용자 상태가 변경되었습니다         │
│                                        │
│ 김철수 (student@edu.com)               │
│ 활성 → 정지                            │
│                                        │
│ 사유: 부적절한 행동으로 인한 임시 정지 │
│                                        │
│ [확인]                                 │
└────────────────────────────────────────┘

**로그 기록**:
- 모든 상태 변경은 admin_logs 테이블에 기록
- 변경 시각, 관리자 ID, 대상 사용자 ID, 사유 저장
```

---

## 4. 통계 대시보드

```
┌─────────────────────────────────────────────────────────────────┐
│  관리자 대시보드                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  📊 전체 통계                                                    │
│  ┌─────────────┬─────────────┬─────────────┬─────────────┐     │
│  │ 전체 사용자 │ 학생        │ 교수자      │ 신규 가입   │     │
│  │    234명    │   200명     │   34명      │   15명 (주) │     │
│  └─────────────┴─────────────┴─────────────┴─────────────┘     │
│                                                                  │
│  📈 가입 추이 (최근 7일)                                         │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │  [라인 차트 또는 바 차트]                                 │  │
│  │  월: 5명, 화: 8명, 수: 3명, 목: 7명, 금: 12명, 토: 4명    │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                  │
│  ⚠️ 최근 활동                                                    │
│  • 2분 전: student123@edu.com 회원가입                          │
│  • 5분 전: 관리자가 test@edu.com 계정 정지                      │
│  • 10분 전: prof@edu.com 새로운 수업 생성                       │
│  ...                                                             │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 5. 반응형 레이아웃

### 5.1 Desktop (1920px+)
- 사용자 목록: 전체 테이블 표시
- 필터: 가로 배치

### 5.2 Laptop (1024px ~ 1919px)
- 사용자 목록: 일부 컬럼 축소 (마지막 로그인 등 숨김)

### 5.3 Tablet (768px ~ 1023px)
- 사용자 목록: 카드 형태로 전환
- 필터: 세로 스택

### 5.4 Mobile (< 768px)
- 사용자 목록: 카드 1-column
- 검색: 전체 너비

---

## 6. 컴포넌트 명세

### 6.1 사용자 테이블

```tsx
// Component: UserTable.tsx
interface UserTableProps {
  users: User[];
  onEdit: (user: User) => void;
}

export const UserTable: React.FC<UserTableProps> = ({ users, onEdit }) => {
  return (
    <table className="w-full">
      <thead className="bg-gray-800 border-b border-gray-700">
        <tr>
          <th className="px-4 py-3 text-left text-sm font-medium text-gray-300">
            ID
          </th>
          <th className="px-4 py-3 text-left text-sm font-medium text-gray-300">
            이메일
          </th>
          <th className="px-4 py-3 text-left text-sm font-medium text-gray-300">
            이름
          </th>
          <th className="px-4 py-3 text-left text-sm font-medium text-gray-300">
            역할
          </th>
          <th className="px-4 py-3 text-left text-sm font-medium text-gray-300">
            상태
          </th>
          <th className="px-4 py-3 text-left text-sm font-medium text-gray-300">
            가입일
          </th>
          <th className="px-4 py-3 text-left text-sm font-medium text-gray-300">
            액션
          </th>
        </tr>
      </thead>
      <tbody>
        {users.map((user) => (
          <tr key={user.id} className="border-b border-gray-800 hover:bg-gray-800/50">
            <td className="px-4 py-3 text-sm text-gray-300">{user.id}</td>
            <td className="px-4 py-3 text-sm text-gray-300">{user.email}</td>
            <td className="px-4 py-3 text-sm text-gray-300">{user.name}</td>
            <td className="px-4 py-3 text-sm">
              <span className={`px-2 py-1 rounded-full text-xs ${
                user.role === 'student' ? 'bg-blue-900 text-blue-300' :
                user.role === 'professor' ? 'bg-purple-900 text-purple-300' :
                'bg-gray-700 text-gray-300'
              }`}>
                {user.role === 'student' ? '학생' :
                 user.role === 'professor' ? '교수자' : '관리자'}
              </span>
            </td>
            <td className="px-4 py-3 text-sm">
              <StatusBadge status={user.status} />
            </td>
            <td className="px-4 py-3 text-sm text-gray-400">
              {formatDate(user.created_at)}
            </td>
            <td className="px-4 py-3 text-sm">
              <button
                onClick={() => onEdit(user)}
                className="text-indigo-500 hover:text-indigo-400"
              >
                편집
              </button>
            </td>
          </tr>
        ))}
      </tbody>
    </table>
  );
};
```

### 6.2 상태 배지

```tsx
// Component: StatusBadge.tsx
interface StatusBadgeProps {
  status: 'active' | 'inactive' | 'suspended';
}

export const StatusBadge: React.FC<StatusBadgeProps> = ({ status }) => {
  const config = {
    active: {
      bg: 'bg-green-900',
      text: 'text-green-300',
      label: '활성'
    },
    inactive: {
      bg: 'bg-gray-700',
      text: 'text-gray-300',
      label: '비활성'
    },
    suspended: {
      bg: 'bg-red-900',
      text: 'text-red-300',
      label: '정지'
    }
  };

  const { bg, text, label } = config[status];

  return (
    <span className={`px-2 py-1 rounded-full text-xs ${bg} ${text}`}>
      {label}
    </span>
  );
};
```

---

## 4. 관리 로그 조회

### 4.1 관리 로그 페이지 레이아웃

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  [Logo] EduVerse                       [알림 🔔]  [관리자 ▼]                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  관리 로그                                                                    │
│  [총: 1,234건]                                                               │
│                                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  필터: [작업유형 ▼] [대상유형 ▼]  날짜: [2025-10-01 ▼] ~ [2025-10-19 ▼]    │
│  검색: [이메일/사용자명_____________] [🔍]  [CSV 내보내기] [Excel 내보내기]  │
│                                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  시각          │ 관리자        │ 작업       │ 대상       │ 대상명    │ 상세      │
│  ────────────┼──────────────┼─────────┼──────────┼─────────┼──────────│
│ 14:35:22     │ admin@edu.com│ 사용자생성│ 학생     │ 김철수   │ [보기]   │
│ 14:30:15     │ admin@edu.com│ 상태변경 │ 학생     │ 박학생   │ [보기]   │
│ 14:25:08     │ admin@edu.com│ 사용자수정│ 교수자   │ 이교수   │ [보기]   │
│ 14:20:45     │ admin@edu.com│ 사용자삭제│ 학생     │ 최학생   │ [보기]   │
│ 14:15:30     │ admin@edu.com│ 로그인   │ 관리자   │ 관리자   │ [보기]   │
│ 14:10:22     │ admin@edu.com│ 설정변경 │ 시스템   │ -        │ [보기]   │
│ ...          │              │         │         │         │        │
│                                                                              │
│  [◀ 이전] 페이지 1/50 [다음 ▶]                                               │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4.2 필터 및 검색 옵션

```
┌────────────────────────────────────────────────────────────────┐
│  필터 및 검색                                                    │
│                                                                  │
│  작업 유형 (Action Type):                                        │
│  [ ] 전체  [ ] 사용자생성  [ ] 사용자수정  [ ] 사용자삭제         │
│  [ ] 상태변경  [ ] 로그인  [ ] 로그아웃  [ ] 설정변경           │
│                                                                  │
│  대상 유형 (Target Type):                                        │
│  [ ] 전체  [ ] 사용자  [ ] 수업  [ ] 설정  [ ] 시스템           │
│                                                                  │
│  날짜 범위:                                                      │
│  [2025-10-01 ▼] ~ [2025-10-19 ▼]                              │
│                                                                  │
│  검색:                                                           │
│  [student@edu.com 또는 이름으로 검색___________]  [🔍]          │
│                                                                  │
│               [필터 초기화]  [검색]                              │
│                                                                  │
└────────────────────────────────────────────────────────────────┘
```

### 4.3 로그 상세 보기 모달

```
┌────────────────────────────────────────────────────────────────┐
│ 로그 상세 정보                                              [X]  │
├────────────────────────────────────────────────────────────────┤
│                                                                  │
│  로그 ID:           12345                                        │
│  시각:              2025-10-19 14:35:22 (UTC+9)                │
│  관리자:            admin@edu.com                               │
│  관리자 IP:         192.168.1.100 (마스킹됨)                    │
│                                                                  │
│  작업:              사용자 상태 변경                              │
│  대상:              학생 > 김철수 (student@edu.com)              │
│  대상 ID:           234                                         │
│                                                                  │
│  상세 내용:                                                      │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ 사용자 상태를 '활성'에서 '정지'로 변경함                 │  │
│  │ 사유: 부적절한 행동으로 인한 임시 정지                   │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                  │
│  User Agent:                                                     │
│  Mozilla/5.0 (Windows NT 10.0; Win64; x64)...                  │
│                                                                  │
│               [닫기]                                             │
│                                                                  │
└────────────────────────────────────────────────────────────────┘
```

### 4.4 작업 유형 정의

| 작업 코드 | 작업명 | 대상 | 설명 | 예시 |
|---------|-------|------|------|------|
| USER-CREATE | 사용자 생성 | 학생/교수자 | 새 계정 생성 | student@edu.com 회원가입 |
| USER-UPDATE | 사용자 정보 수정 | 학생/교수자 | 사용자 정보 수정 | 김철수 이메일 변경 |
| USER-STATUS | 사용자 상태 변경 | 학생/교수자 | 활성/비활성/정지 | 김철수 상태: 활성 → 정지 |
| USER-DELETE | 사용자 삭제 | 학생/교수자 | 계정 삭제 | 김철수 계정 삭제 |
| CLASS-CREATE | 수업 생성 | 수업 | 새 수업 생성 | 자료구조 및 알고리즘 수업 생성 |
| CLASS-DELETE | 수업 삭제 | 수업 | 수업 삭제 | 파이썬 기초 수업 삭제 |
| SETTING-UPDATE | 설정 변경 | 시스템 | 시스템 설정 변경 | 시스템 설정 업데이트 |
| LOGIN | 관리자 로그인 | 관리자 | 관리자 로그인 | 관리자 로그인 (IP: 192.168.1.100) |
| LOGOUT | 관리자 로그아웃 | 관리자 | 관리자 로그아웃 | 관리자 로그아웃 |

### 4.5 데이터 내보내기

```
CSV/Excel 내보내기 옵션:
- 현재 필터 기준 모든 로그 내보내기
- 컬럼: 시각, 관리자, 작업, 대상유형, 대상명, 상세내용
- 파일명: admin_logs_YYYYMMDD_HHMMSS.csv (또는 .xlsx)
- 최대 10,000개까지 내보내기 가능
```

---

## 7. 디버깅 체크리스트

**사용자 관리**:
- [ ] 사용자 목록이 정확히 로드되는가?
- [ ] 필터와 검색이 정상 작동하는가?
- [ ] 상태 변경 모달이 정상 작동하는가?
- [ ] 정지 처리 시 사유가 필수인가?
- [ ] 관리자 본인은 상태 변경이 불가능한가?
- [ ] 페이지네이션이 정상 작동하는가?
- [ ] 모든 상태 변경이 로그에 기록되는가?
- [ ] 모바일에서 카드 형태로 전환되는가?

**관리 로그**:
- [ ] 관리 로그 목록이 정확히 로드되는가?
- [ ] 작업 유형 필터가 정상 작동하는가?
- [ ] 대상 유형 필터가 정상 작동하는가?
- [ ] 날짜 범위 필터가 정상 작동하는가?
- [ ] 검색이 정상 작동하는가?
- [ ] 로그 상세 보기 모달이 정상 작동하는가?
- [ ] IP 주소가 마스킹되어 표시되는가?
- [ ] CSV/Excel 내보내기가 정상 작동하는가?
- [ ] 페이지네이션이 정상 작동하는가?

---

**문서 버전**: 1.1
**최종 수정**: 2025-10-19
**이전 문서**: [04-professor-wireframes.md](./04-professor-wireframes.md)
