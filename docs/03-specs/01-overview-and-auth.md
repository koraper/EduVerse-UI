# EduVerse 기능별 상세 명세서 - Part 1: 개요 및 인증

## 📋 문서 정보

| 항목 | 내용 |
|------|------|
| 문서명 | 기능 명세서 Part 1: 개요 및 인증 |
| 버전 | 1.2 |
| 최종 수정일 | 2025-10-19 |
| 상태 | 개발 중 |
| 관련 문서 | PRD v2.8, 역할별 기능 리스트 v3.7, 시스템 아키텍처 v1.4 |

## 📝 변경 이력

| 버전 | 일자 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.2 | 2025-10-19 | 정합성 개선: PRD v2.8, 역할별 기능 리스트 v3.7, 시스템 아키텍처 v1.4 반영 | Claude AI |
| 1.1 | 2025-10-17 | 문서 정보 한글화 | Claude AI |
| 1.0 | 2025-01-14 | 초기 버전 작성 | Claude AI |

---

## 📖 전체 문서 목차

**Part 1: 개요 및 인증** (현재 문서)
1. [개요](#1-개요)
2. [명세서 작성 가이드](#2-명세서-작성-가이드)
3. [랜딩페이지 기능](#3-랜딩페이지-기능)
4. [인증 및 인가](#4-인증-및-인가)

**Part 2: 학생 기능** → [02-student-features.md](./02-student-features.md)

**Part 3: 교수자 기능** → [03-professor-features.md](./03-professor-features.md)

**Part 4: 관리자 기능** → [04-admin-features.md](./04-admin-features.md)

**Part 5: 공통 가이드** → [05-common-guidelines.md](./05-common-guidelines.md)

---

## 1. 개요

### 1.1 문서의 목적

이 문서는 EduVerse 플랫폼의 모든 기능에 대한 상세 구현 명세를 제공합니다. 각 기능은 다음을 포함합니다:

- **기능 정의**: 무엇을 하는지
- **입력/출력**: 어떤 데이터를 받고 반환하는지
- **처리 로직**: 어떻게 동작하는지
- **UI 요소**: 사용자에게 어떻게 보이는지
- **제약사항**: 기술적/비즈니스적 제약
- **예외 처리**: 오류 상황 대응

### 1.2 우선순위별 작성 수준

| 우선순위 | 작성 수준 | 설명 |
|----------|----------|------|
| **P0** | 매우 상세 | MVP 필수 기능, 모든 항목 상세 작성 |
| **P1** | 중간 수준 | MVP 이후 우선 구현, 핵심 항목 작성 |
| **P2** | 개요 수준 | 향후 구현, 기본 정보만 작성 |

### 1.3 관련 문서

- [제품 요구사항 문서 (PRD v2.8)](../01-product/01-eduverse-product-requirements.md)
- [역할별 기능 리스트 (v3.7)](../01-product/02-eduverse-role-based-feature-list.md)
- [시스템 아키텍처 (v1.4)](../02-architecture/01-system-architecture.md)
- **[UI 와이어프레임](../04-design/wireframes/)** (상세 화면 설계)
  - [랜딩페이지](../04-design/wireframes/01-landing-wireframes.md)
  - [공통화면 (인증)](../04-design/wireframes/02-common-wireframes.md)
- [API 명세서](./02-api-specifications.md) (작성 예정)
- [데이터베이스 스키마](./03-database-schema.md) (작성 예정)

> **💡 UI 요소 참고**: 이 문서의 UI 요소 섹션은 간단한 개요만 포함합니다. 상세한 와이어프레임과 컴포넌트 명세는 위의 와이어프레임 문서를 참조하세요.

---

## 2. 명세서 작성 가이드

### 2.1 기능 명세 템플릿

각 기능은 다음 구조로 작성됩니다:

```markdown
### [기능 ID] 기능명

**우선순위**: P0/P1/P2
**담당 역할**: Student/Professor/Admin/Common

#### 기능 개요
- 간단한 설명 (1-2문장)

#### 사용자 스토리
AS A [역할]
I WANT TO [행동]
SO THAT [목적]

#### 전제조건 (Preconditions)
- 이 기능을 사용하기 전에 만족해야 할 조건

#### 입력 (Input)
| 필드명 | 타입 | 필수 | 설명 | 제약사항 |
|--------|------|------|------|----------|

#### 처리 로직 (Process)
1. 단계별 처리 흐름

#### 출력 (Output)
| 필드명 | 타입 | 설명 |
|--------|------|------|

#### UI 요소
- 화면 구성 및 인터랙션

#### 예외 처리 (Error Handling)
| 에러 코드 | 상황 | 메시지 | 처리 방법 |
|-----------|------|--------|-----------|

#### 제약사항 (Constraints)
- 기술적 제약
- 비즈니스 제약

#### 관련 기능/API
- 연관된 다른 기능이나 API

#### 테스트 시나리오
- 주요 테스트 케이스
```

### 2.2 표기 규칙

- **필수 필드**: `*` 표시
- **선택 필드**: 별도 표시 없음
- **조건부 필드**: `(조건)` 표시
- **민감 정보**: `🔒` 표시

---

## 3. 랜딩페이지 기능

### LP-01 메인 랜딩페이지

**우선순위**: P0
**담당 역할**: 비인증 사용자

#### 기능 개요
- 비인증 사용자가 처음 접속하는 페이지로, 제품의 핵심 가치 제안과 주요 기능을 소개하고 회원가입을 유도합니다.

#### 사용자 스토리
```
AS A 비인증 방문자
I WANT TO EduVerse의 핵심 기능과 가치를 쉽게 이해하고
SO THAT 이 플랫폼이 나에게 필요한지 판단하고 회원가입할 수 있다
```

#### 전제조건
- 없음 (누구나 접근 가능)

#### 입력
| 필드명 | 타입 | 필수 | 설명 | 제약사항 |
|--------|------|------|------|----------|
| 없음 | - | - | URL 접속만으로 표시 | - |

#### 처리 로직
1. 사용자가 루트 URL(`/`) 접속
2. 인증 상태 확인
   - 인증된 사용자: 역할별 대시보드로 리다이렉트
   - 비인증 사용자: 랜딩페이지 표시
3. 페이지 구성 요소 렌더링:
   - Hero 섹션 (핵심 가치 제안)
   - 오프라인 수업 특화 소개
   - 주요 기능 소개 (카드 형식)
   - 사용 사례/후기
   - CTA 버튼 (회원가입)

#### 출력
| 필드명 | 타입 | 설명 |
|--------|------|------|
| html_page | HTML | 랜딩페이지 전체 HTML |

#### UI 요소

**Hero 섹션**:
```
┌─────────────────────────────────────────────────┐
│  [Logo] EduVerse                  [로그인] [회원가입]│
├─────────────────────────────────────────────────┤
│                                                  │
│         오프라인 수업을 위한                        │
│       프로그래밍 교육 플랫폼                        │
│                                                  │
│   실시간 모니터링 • 코드 피드백 • 학습 분석        │
│                                                  │
│   [🎓 교수자로 시작하기]  [📚 학생으로 시작하기]    │
│                                                  │
│            [스크린샷/데모 영상]                    │
└─────────────────────────────────────────────────┘
```

**오프라인 수업 특화 섹션**:
- 4가지 핵심 차별화 요소 카드
  1. 실시간 교실 모니터링
  2. 즉각적 개입
  3. 제로 셋업
  4. 수업 후 분석

**주요 기능 섹션**:
- 학생용 기능 (인턴십 시뮬레이션, Monaco Editor, 다중 언어 지원)
- 교수자용 기능 (Code Peek, 실시간 대시보드, 학습 분석)

**CTA 섹션**:
- 교수자: "지금 바로 수업 만들기" 버튼
- 학생: "학습 시작하기" 버튼

#### 예외 처리
| 에러 코드 | 상황 | 메시지 | 처리 방법 |
|-----------|------|--------|-----------|
| - | 페이지 로드 실패 | "일시적인 오류가 발생했습니다" | 새로고침 유도, 에러 로깅 |

#### 제약사항
- **기술적 제약**:
  - 페이지 로드 시간 < 2초
  - 모바일 반응형 필수 (TailwindCSS 브레이크포인트 사용)
  - 이미지 최적화 (WebP 형식, Lazy loading)

- **비즈니스 제약**:
  - 오프라인 수업 특화를 최우선으로 강조
  - B2B(교수자) 타겟 우선 고려한 메시징

#### 관련 기능/API
- ST-AUTH-01: 학생 회원가입
- PR-AUTH-01: 교수자 회원가입
- LP-02: 오프라인 수업 특화 소개
- LP-05: 교수자 회원가입 유도
- LP-06: 학생 회원가입 유도

#### 테스트 시나리오
1. **정상 시나리오**:
   - 비인증 사용자가 `/` 접속
   - 모든 섹션이 2초 이내 로드됨
   - "교수자로 시작하기" 클릭 시 교수자 회원가입 페이지로 이동
   - "학생으로 시작하기" 클릭 시 학생 회원가입 페이지로 이동

2. **인증된 사용자 시나리오**:
   - 로그인된 학생이 `/` 접속
   - 학생 대시보드로 리다이렉트
   - 로그인된 교수자가 `/` 접속
   - 교수자 대시보드로 리다이렉트

3. **반응형 시나리오**:
   - 모바일(375px): 단일 컬럼, 햄버거 메뉴
   - 태블릿(768px): 2단 레이아웃
   - 데스크톱(1024px): 전체 레이아웃

---

### LP-02 오프라인 수업 특화 소개

**우선순위**: P0
**담당 역할**: 비인증 사용자

#### 기능 개요
- 랜딩페이지 내 섹션으로, EduVerse의 핵심 차별화 요소인 "오프라인 수업 환경 최적화"를 집중적으로 소개합니다.

#### 사용자 스토리
```
AS A 오프라인 강의를 운영하는 교수자
I WANT TO EduVerse가 대면 수업에 어떻게 도움이 되는지 명확히 알고 싶다
SO THAT 우리 수업에 적합한지 판단할 수 있다
```

#### 전제조건
- LP-01 메인 랜딩페이지의 일부

#### UI 요소

**섹션 구조**:
```
┌─────────────────────────────────────────────────┐
│      왜 EduVerse는 오프라인 수업에 최적일까요?      │
├─────────────────────────────────────────────────┤
│                                                  │
│  [컴퓨터실 이미지]         [특징 1]               │
│                           👁️ 실시간 모니터링      │
│  20-100명 학생이           강의 중 모든 학생의     │
│  동시에 수업              화면을 한눈에 파악       │
│                                                  │
│  [특징 2]                 [특징 3]               │
│  🎯 즉각적 개입            💻 제로 셋업           │
│  막힌 학생을              브라우저만으로           │
│  즉시 발견하고 도움        즉시 시작              │
│                                                  │
│  [특징 4]                 [데모 영상]            │
│  📊 수업 후 분석           실제 사용 화면         │
│  학습 패턴 분석 및         시연 영상             │
│  개선점 도출                                     │
│                                                  │
│       [무료 데모 수업 신청하기] 버튼               │
└─────────────────────────────────────────────────┘
```

**컴포넌트**:
1. **타이틀**: "왜 EduVerse는 오프라인 수업에 최적일까요?"
2. **사용 시나리오 이미지**: 컴퓨터실에서 수업하는 장면
3. **4가지 핵심 특징 카드**:
   - 각 카드: 아이콘 + 제목 + 2-3문장 설명
4. **데모 영상 또는 스크린샷**
5. **CTA 버튼**: "무료 데모 수업 신청하기" (LP-07 Contact 연결)

#### 제약사항
- **기술적 제약**:
  - 이미지/영상 최적화 필수
  - 모바일에서는 세로 스크롤 가능한 카드 레이아웃

- **비즈니스 제약**:
  - "오프라인", "대면", "강의실" 키워드 필수 포함
  - 온라인 교육 플랫폼과의 차별화 명확히

#### 관련 기능/API
- LP-01: 메인 랜딩페이지
- LP-07: 문의하기 / Contact

---

### LP-05 교수자 회원가입 유도

**우선순위**: P0
**담당 역할**: 비인증 사용자

#### 기능 개요
- 교수자를 타겟으로 한 회원가입 CTA 버튼 및 플로우

#### 사용자 스토리
```
AS A 교수자
I WANT TO 간단하게 회원가입하고
SO THAT 바로 수업을 만들고 학생들을 초대할 수 있다
```

#### 입력
| 필드명 | 타입 | 필수 | 설명 | 제약사항 |
|--------|------|------|------|----------|
| 없음 | - | - | 버튼 클릭 이벤트 | - |

#### 처리 로직
1. 랜딩페이지에서 "교수자로 시작하기" 버튼 클릭
2. `/professor/signup` 페이지로 이동
3. PR-AUTH-01 교수자 회원가입 폼 표시

#### UI 요소

**CTA 버튼**:
```
┌────────────────────────────────┐
│  🎓 교수자로 시작하기            │
│                                 │
│  지금 바로 수업을 만들어보세요   │
│  무료 • 설치 불필요 • 즉시 승인   │
└────────────────────────────────┘
```

**버튼 스타일**:
- Primary 컬러 (파란색 계열)
- 크기: Large (최소 높이 48px)
- 호버 효과: 약간 확대 + 그림자
- 위치: Hero 섹션 상단, CTA 섹션 하단

#### 제약사항
- **기술적 제약**:
  - 버튼 클릭 시 0.2초 이내 페이지 전환
  - 로딩 인디케이터 표시

- **비즈니스 제약**:
  - "무료", "즉시 승인" 키워드로 장벽 제거
  - 교수자 타겟 메시징

#### 관련 기능/API
- PR-AUTH-01: 교수자 회원가입
- LP-01: 메인 랜딩페이지

---

### LP-06 학생 회원가입 유도

**우선순위**: P0
**담당 역할**: 비인증 사용자

#### 기능 개요
- 학생을 타겟으로 한 회원가입 CTA 버튼 및 플로우

#### 사용자 스토리
```
AS A 학생
I WANT TO 간단하게 회원가입하고
SO THAT 선생님이 준 초대코드로 수업에 참여할 수 있다
```

#### 처리 로직
1. 랜딩페이지에서 "학생으로 시작하기" 버튼 클릭
2. `/student/signup` 페이지로 이동
3. ST-AUTH-01 학생 회원가입 폼 표시

#### UI 요소

**CTA 버튼**:
```
┌────────────────────────────────┐
│  📚 학생으로 시작하기            │
│                                 │
│  초대코드를 받으셨나요?          │
│  무료 • 5분 만에 시작             │
└────────────────────────────────┘
```

**버튼 스타일**:
- Secondary 컬러 (초록색 계열)
- 크기: Large
- 교수자 버튼과 나란히 배치

#### 관련 기능/API
- ST-AUTH-01: 학생 회원가입
- LP-01: 메인 랜딩페이지

---

## 4. 인증 및 인가

### ST-AUTH-01 / PR-AUTH-01 회원가입

**우선순위**: P0
**담당 역할**: Student, Professor

#### 기능 개요
- 학생 또는 교수자가 이메일과 비밀번호로 계정을 생성합니다.
- MVP에서는 교수자도 즉시 승인되어 바로 사용 가능합니다.

#### 사용자 스토리
```
AS A 신규 사용자
I WANT TO 이메일과 비밀번호로 간단하게 회원가입하고
SO THAT EduVerse 플랫폼을 사용할 수 있다
```

#### 전제조건
- 비인증 사용자

#### 입력
| 필드명 | 타입 | 필수 | 설명 | 제약사항 |
|--------|------|------|------|----------|
| email* | string | ✅ | 이메일 주소 | 유효한 이메일 형식, 중복 불가 |
| password* | string | ✅ | 비밀번호 | 최소 8자, 영문+숫자 포함 |
| password_confirm* | string | ✅ | 비밀번호 확인 | password와 동일해야 함 |
| name* | string | ✅ | 이름 (실명) | 2-50자, 한글/영문 |
| student_number | string | ❌ | 학번 (학생 역할 선택 시) | 5-20자, 영문/숫자 |
| role* | enum | ✅ | 역할 | 'student' 또는 'professor' |
| agree_terms* | boolean | ✅ | 이용약관 동의 | true여야 함 |

#### 처리 로직
1. 클라이언트에서 입력값 검증
   - 필수 필드 확인
   - 이메일 형식 검증
   - 비밀번호 강도 검증
   - 비밀번호 일치 확인
2. `POST /api/auth/signup` 호출
3. 서버에서 입력값 재검증
4. 이메일 중복 확인
   - 중복 시: 에러 반환 (409 Conflict)
5. 🔴 **보안 이슈**: 비밀번호 해싱 (bcrypt, 10 rounds)
   - MVP에서는 평문 저장 (긴급 개선 필요)
6. 사용자 DB에 저장
   ```sql
   INSERT INTO users (email, password, name, role, created_at)
   VALUES (?, ?, ?, ?, NOW())
   ```
7. 자동 로그인 (세션 생성)
8. 역할별 대시보드로 리다이렉트
   - student: `/student/dashboard`
   - professor: `/professor/dashboard`

#### 출력
| 필드명 | 타입 | 설명 |
|--------|------|------|
| user_id | integer | 생성된 사용자 ID |
| email | string | 사용자 이메일 |
| name | string | 사용자 이름 |
| role | string | 사용자 역할 |
| session_token | string | 세션 토큰 (쿠키에 저장) |

#### UI 요소

**회원가입 폼**:
```
┌────────────────────────────────────┐
│         EduVerse 회원가입           │
├────────────────────────────────────┤
│                                     │
│  [학생] [교수자] ← 탭 선택            │
│                                     │
│  이메일 *                           │
│  [___________________________]      │
│                                     │
│  이름 *                             │
│  [___________________________]      │
│                                     │
│  학번 (선택)                        │
│  [___________________________]      │
│                                     │
│  비밀번호 * (최소 8자, 영문+숫자)     │
│  [___________________________] 👁️   │
│                                     │
│  비밀번호 확인 *                     │
│  [___________________________] 👁️   │
│                                     │
│  ☑️ 이용약관에 동의합니다  [보기]      │
│                                     │
│  [        회원가입하기        ]      │
│                                     │
│  이미 계정이 있으신가요? [로그인]      │
└────────────────────────────────────┘
```

**폼 검증 (실시간)**:
- 이메일: 입력 중 형식 검증, blur 시 중복 확인
- 비밀번호: 강도 표시 (약함/보통/강함)
- 비밀번호 확인: 일치 여부 실시간 표시

#### 예외 처리
| 에러 코드 | 상황 | 메시지 | 처리 방법 |
|-----------|------|--------|-----------|
| 400 | 필수 필드 누락 | "모든 필수 항목을 입력해주세요" | 해당 필드에 빨간색 테두리 + 메시지 |
| 400 | 이메일 형식 오류 | "올바른 이메일 형식이 아닙니다" | 이메일 필드 하단에 오류 메시지 |
| 400 | 비밀번호 강도 부족 | "비밀번호는 최소 8자, 영문과 숫자를 포함해야 합니다" | 비밀번호 필드 하단에 오류 메시지 |
| 400 | 비밀번호 불일치 | "비밀번호가 일치하지 않습니다" | 비밀번호 확인 필드에 오류 메시지 |
| 409 | 이메일 중복 | "이미 사용 중인 이메일입니다" | 이메일 필드 하단 + "로그인" 링크 제공 |
| 500 | 서버 오류 | "일시적인 오류가 발생했습니다. 잠시 후 다시 시도해주세요" | 전체 폼 상단에 오류 배너 + 재시도 버튼 |

#### 제약사항

**기술적 제약**:
- 이메일 중복 확인: DB 쿼리 응답 < 100ms
- 비밀번호 해싱: bcrypt 10 rounds (약 100ms)
- 전체 회원가입 프로세스: < 1초

**보안 제약**:
- 🔴 **긴급**: 비밀번호 평문 저장 → 해싱 필요
- Rate Limiting: 동일 IP에서 1분에 5회 제한
- CSRF 토큰 검증

**비즈니스 제약**:
- 교수자는 MVP에서 즉시 승인 (관리자 승인 불필요)
- 이용약관 동의 필수

#### 관련 기능/API
- `POST /api/auth/signup`: 회원가입 API
- ST-AUTH-02 / PR-AUTH-02: 로그인
- ST-CLASS-01: 초대 코드 입력 (학생)
- PR-CLASS-01: 수업 생성 (교수자)

#### 테스트 시나리오

**정상 시나리오**:
1. 학생으로 회원가입
   - 유효한 정보 입력
   - "회원가입하기" 클릭
   - 학생 대시보드로 리다이렉트
   - 환영 메시지 표시

2. 교수자로 회원가입
   - 유효한 정보 입력
   - "회원가입하기" 클릭
   - 교수자 대시보드로 리다이렉트
   - "수업 만들기" 가이드 표시

**예외 시나리오**:
1. 이메일 중복
   - 이미 가입된 이메일 입력
   - "이미 사용 중인 이메일입니다" 오류 메시지
   - "로그인" 링크 제공

2. 비밀번호 불일치
   - password와 password_confirm이 다름
   - "비밀번호가 일치하지 않습니다" 실시간 표시
   - 회원가입 버튼 비활성화

3. 약관 미동의
   - 약관 체크박스 미선택
   - 회원가입 버튼 비활성화
   - 체크박스 주변 빨간색 테두리

---

### ST-AUTH-02 / PR-AUTH-02 로그인

**우선순위**: P0
**담당 역할**: Student, Professor, Admin

#### 기능 개요
- 등록된 사용자가 이메일과 비밀번호로 로그인합니다.

#### 사용자 스토리
```
AS A 등록된 사용자
I WANT TO 이메일과 비밀번호로 로그인하고
SO THAT 내 역할에 맞는 기능을 사용할 수 있다
```

#### 전제조건
- 회원가입 완료된 사용자

#### 입력
| 필드명 | 타입 | 필수 | 설명 | 제약사항 |
|--------|------|------|------|----------|
| email* | string | ✅ | 이메일 주소 | 유효한 이메일 형식 |
| password* | string | ✅ | 비밀번호 | 최소 8자 |
| remember_me | boolean | ❌ | 로그인 상태 유지 | 선택 사항 |

#### 처리 로직
1. 클라이언트에서 입력값 검증
2. `POST /api/auth/login` 호출
3. 서버에서 이메일로 사용자 조회
4. 비밀번호 검증
   - 🔴 **보안 이슈**: 평문 비교 (MVP)
   - 향후: bcrypt.compare()
5. 로그인 실패 횟수 확인
   - 5회 이상 실패: 계정 잠금 (15분)
6. 세션 생성
   - remember_me = true: 30일
   - remember_me = false: 24시간
7. 역할별 대시보드로 리다이렉트
   - student → `/student/dashboard`
   - professor → `/professor/dashboard`
   - admin → `/admin/dashboard`

#### 출력
| 필드명 | 타입 | 설명 |
|--------|------|------|
| user_id | integer | 사용자 ID |
| email | string | 사용자 이메일 |
| name | string | 사용자 이름 |
| role | string | 사용자 역할 |
| session_token | string | 세션 토큰 (쿠키에 저장) |

#### UI 요소

**로그인 폼**:
```
┌────────────────────────────────────┐
│           EduVerse 로그인           │
├────────────────────────────────────┤
│                                     │
│  이메일                             │
│  [___________________________]      │
│                                     │
│  비밀번호                           │
│  [___________________________] 👁️   │
│                                     │
│  ☐ 로그인 상태 유지                  │
│                                     │
│  [         로그인         ]         │
│                                     │
│  [비밀번호를 잊으셨나요?]             │
│                                     │
│  계정이 없으신가요? [회원가입]         │
└────────────────────────────────────┘
```

#### 예외 처리
| 에러 코드 | 상황 | 메시지 | 처리 방법 |
|-----------|------|--------|-----------|
| 400 | 필수 필드 누락 | "이메일과 비밀번호를 입력해주세요" | 해당 필드 강조 |
| 401 | 인증 실패 | "이메일 또는 비밀번호가 올바르지 않습니다" | 폼 상단에 오류 배너 |
| 403 | 계정 잠금 | "로그인 시도 횟수를 초과했습니다. 15분 후 다시 시도해주세요" | 전체 폼 비활성화 + 타이머 표시 |
| 500 | 서버 오류 | "일시적인 오류가 발생했습니다" | 재시도 버튼 |

#### 제약사항

**기술적 제약**:
- 로그인 API 응답 시간: < 200ms
- 세션 쿠키: HttpOnly, Secure, SameSite=Strict

**보안 제약**:
- 로그인 실패 5회 → 15분 계정 잠금
- Rate Limiting: 동일 IP 1분에 10회
- 비밀번호 입력 시 마스킹 (`type="password"`)

#### 관련 기능/API
- `POST /api/auth/login`: 로그인 API
- `POST /api/auth/logout`: 로그아웃
- ST-AUTH-03: 비밀번호 찾기/변경

---

**다음 문서**: [Part 2: 학생 기능](./02-student-features.md)
